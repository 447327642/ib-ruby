<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: IB::Messages::Incoming::TickOption
  
    &mdash; Documentation by YARD 0.7.3
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../IB.html" title="IB (module)">IB</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Messages.html" title="IB::Messages (module)">Messages</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Incoming.html" title="IB::Messages::Incoming (module)">Incoming</a></span></span>
     &raquo; 
    <span class="title">TickOption</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: IB::Messages::Incoming::TickOption
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="AbstractTick.html" title="IB::Messages::Incoming::AbstractTick (class)">AbstractTick</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="AbstractMessage.html" title="IB::Messages::Incoming::AbstractMessage (class)">AbstractMessage</a></span></li>
          
            <li class="next"><span class='object_link'><a href="AbstractTick.html" title="IB::Messages::Incoming::AbstractTick (class)">AbstractTick</a></span></li>
          
            <li class="next">IB::Messages::Incoming::TickOption</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ib-ruby/messages/incoming.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>This message is received when the market in an option or its underlier moves.
TWS?s option model volatilities, prices, and deltas, along with the present
value of dividends expected on that options underlier are received.
TickOption message contains following @data:
   :id - Ticker Id that was specified previously in the call to reqMktData()
   :tick_type - Specifies the type of option computation (see TICK_TYPES).
   :implied_volatility - The implied volatility calculated by the TWS option</p>

<pre class="code">                     modeler, using the specified :tick_type value.
</pre>

<p>   :delta - The option delta value.
   :option_price - The option price.
   :pv_dividend - The present value of dividends expected on the options underlier
   :gamma - The option gamma value.
   :vega - The option vega value.
   :theta - The option theta value.
   :under_price - The price of the underlying.</p>


  </div>
</div>
<div class="tags">
  

</div>

  
  
  
  
  
  
  
  


  
  
  
  
  
  
  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="AbstractMessage.html" title="IB::Messages::Incoming::AbstractMessage (class)">AbstractMessage</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="AbstractMessage.html#created_at-instance_method" title="IB::Messages::Incoming::AbstractMessage#created_at (method)">created_at</a></span>, <span class='object_link'><a href="AbstractMessage.html#data-instance_method" title="IB::Messages::Incoming::AbstractMessage#data (method)">data</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load-instance_method" title="#load (instance method)">- (Object) <strong>load</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_computed-instance_method" title="#read_computed (instance method)">- (Object) <strong>read_computed</strong>(key, limit) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Read @data[key] if it was computed (received value above limit)
Leave @data[key] nil if received value below limit ("not yet computed").</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_human-instance_method" title="#to_human (instance method)">- (Object) <strong>to_human</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="AbstractTick.html" title="IB::Messages::Incoming::AbstractTick (class)">AbstractTick</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="AbstractTick.html#type-instance_method" title="IB::Messages::Incoming::AbstractTick#type (method)">#type</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="AbstractMessage.html" title="IB::Messages::Incoming::AbstractMessage (class)">AbstractMessage</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="AbstractMessage.html#initialize-instance_method" title="IB::Messages::Incoming::AbstractMessage#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="AbstractMessage.html#load_map-instance_method" title="IB::Messages::Incoming::AbstractMessage#load_map (method)">#load_map</a></span>, <span class='object_link'><a href="AbstractMessage.html#message_id-class_method" title="IB::Messages::Incoming::AbstractMessage.message_id (method)">message_id</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="AbstractMessage.html#initialize-instance_method" title="IB::Messages::Incoming::AbstractMessage#initialize (method)">IB::Messages::Incoming::AbstractMessage</a></span></p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="load-instance_method">
  
    - (<tt>Object</tt>) <strong>load</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299
300
301
302
303
304
305
306
307
308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ib-ruby/messages/incoming.rb', line 297</span>

<span class='kw'>def</span> <span class='id load'>load</span>
  <span class='kw'>super</span>

  <span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@socket</span><span class='period'>.</span><span class='id read_int'>read_int</span> <span class='comment'># ticker_id
</span>  <span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:tick_type</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@socket</span><span class='period'>.</span><span class='id read_int'>read_int</span>
  <span class='id read_computed'>read_computed</span> <span class='symbol'>:implied_volatility</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span> <span class='comment'>#-1 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:delta</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span> <span class='comment'>#             -2 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:option_price</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span> <span class='comment'>#      -1 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:pv_dividend</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span> <span class='comment'>#       -1 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:gamma</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span> <span class='comment'>#             -2 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:vega</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span> <span class='comment'>#              -2 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:theta</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span> <span class='comment'>#             -2 is the &quot;not yet computed&quot; indicator
</span>  <span class='id read_computed'>read_computed</span> <span class='symbol'>:under_price</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span> <span class='comment'>#       -1 is the &quot;not yet computed&quot; indicator
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="read_computed-instance_method">
  
    - (<tt>Object</tt>) <strong>read_computed</strong>(key, limit) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Read @data[key] if it was computed (received value above limit)
Leave @data[key] nil if received value below limit ("not yet computed")</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ib-ruby/messages/incoming.rb', line 291</span>

<span class='kw'>def</span> <span class='id read_computed'>read_computed</span> <span class='id key'>key</span><span class='comma'>,</span> <span class='id limit'>limit</span>
  <span class='id value'>value</span> <span class='op'>=</span> <span class='ivar'>@socket</span><span class='period'>.</span><span class='id read_decimal'>read_decimal</span>
  <span class='comment'># limit is the &quot;not yet computed&quot; indicator
</span>  <span class='ivar'>@data</span><span class='lbracket'>[</span><span class='id key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id value'>value</span> <span class='op'>&lt;=</span> <span class='id limit'>limit</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_human-instance_method">
  
    - (<tt>Object</tt>) <strong>to_human</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ib-ruby/messages/incoming.rb', line 312</span>

<span class='kw'>def</span> <span class='id to_human'>to_human</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;TickOption </span><span class='embexpr_beg'>#{</span><span class='id type'>type</span><span class='rbrace'>}</span><span class='tstring_content'> for </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>: underlying @ </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:under_price</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>option @ </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:option_price</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, IV </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:implied_volatility</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>%, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delta </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:delta</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, gamma </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:gamma</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, vega </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:vega</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>theta </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:theta</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>, pv_dividend </span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='lbracket'>[</span><span class='symbol'>:pv_dividend</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Nov 22 01:30:24 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.3 (ruby-1.9.2).
</div>

  </body>
</html>